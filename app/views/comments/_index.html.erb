
<!-- 解説showページに常設のコメント一覧 -->

<div id="comments_index">
  <% comments.each do |comment| %>

    <!-- コメント特定 -->
    <div id="for_this_comment">
      <div class="comment-content" id="this_comment_<%= comment.id %>"></div> <!-- 編集ボタンに対応するコメントを特定/特定コメントの上部にnoticeを再現 -->
    </div>

    <p>
      <%= link_to "編集", edit_term_description_comment_path(@term, @description, comment), remote: true %>
      <%= link_to "削除", term_description_comment_path(@term, @description, comment), method: :delete, remote: true, data: { confirm: "本当に削除しますか?"} %>
    </p>

    <!-- 親コメント -->
    <p><%= simple_format comment.content %></p>

    <!-- 親コメントへの返信機能 （返信用フォームを表示）-->
    <%= link_to "返信する", new_term_description_comment_path(@term, @description, comment: comment, id: comment.id), remote: true %>
    <div id="for_this_comment2">
      <div class="comment-content" id="this_comment2_<%= comment.id %>"></div> <!-- 返信ボタンに対応するコメントを特定/特定コメントの下部にnoticeを再現 -->
    </div>

    <!-- 親コメントへの返信一覧 -->    <!-- ↓↓↓ここ次回疑問！出せるよ多分 -->
    <div id="for_this_comment3">
      <div class="reply-index" id="this_comment3_<%= comment.id %>"> <!-- 返信一覧を表示するコメントを特定/返信一覧上部にnoticeを再現 -->
        <%= render partial: 'comments/reply_index', locals: { comments: comment.replies, description: @description } %>
      </div>
    </div>

    <hr>
  <% end %>
</div>
